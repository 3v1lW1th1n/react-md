////
/// @group tooltip
////

@import 'variables';

// A simple util get one of the tooltip theme values.
//
// @param {String} style - One of the theme styles to get a value for
// @return {Color} the tooltip's theme style color
@function rmd-tooltip-theme($style) {
  @if not map-has-key($rmd-tooltip-theme, $style) {
    @error 'Invalid style: \'#{$style}\'. Choose one of: #{map-keys($rmd-tooltip-theme)}';
  }

  @return map-get($rmd-tooltip-theme, $style);
}

/// This function is used to get one of the tooltip's theme variables as a CSS Variable
/// to be applied as a `background-color` or `color` attribute.
///
/// @example scss - Simple Example
///   .tooltip {
///     background-color: rmd-tooltip-theme-var(background-color);
///   }
///
///   .more-complex {
///     box-shadow: 0 0 0 1px rmd-tooltip-theme-var(color),
///       0 12px 3px 2px rmd-tooltip-theme-var(background-color);
///   }
///
/// @param {String} style - One of the `$rmd-link-theme` map keys to set a value for.
/// @param {Color} fallback-color [null] - An optional fallback color to apply. This is set to `null` by
/// default and not used since the link's theme variables should always exist.
/// @return {String} a CSS Variable string.
@function rmd-tooltip-theme-var($style, $fallback-color: null) {
  @if not map-has-key($rmd-tooltip-theme, $style) {
    @error 'Invalid style: \'#{$style}\'. Choose one of: #{map-keys($rmd-tooltip-theme)}';
  }

  @if $fallback-color == null {
    @return var(--rmd-tooltip-#{$style});
  }

  @return var(--rmd-tooltip-#{$style}, $fallback-color);
}

// A small util that will rename the `above` and `below` positions of the tooltip to `top`
// and `bottom` to be used for applying styles.
//
// @param {String} position - the position to change.
// @return {String} the position as a valid style name.
@function rmd-tooltip-position-to-property($position) {
  @if not index($rmd-tooltip-position-values, $position) {
    @error 'Invalid position: \'#{$position}\'. Choose one of: #{map-keys($rmd-tooltip-position-values)}';
  }

  @if $position == 'below' {
    @return 'bottom';
  } @else if $position == 'above' {
    @return 'top';
  }

  @return $position;
}

// A small util for inversing the position. This is just used for generating the default styles.
// @param {String} position - One of the `$rmd-tooltip-position-values` strings
// @return {String} the position inversed.
@function rmd-tooltip-inverse-position($position) {
  @if not index($rmd-tooltip-position-values, $position) {
    @error 'Invalid position: \'#{$position}\'. Choose one of: #{map-keys($rmd-tooltip-position-values)}';
  }

  @if $position == 'left' {
    @return 'right';
  } @else if $position == 'right' {
    @return 'left';
  } @else if $position == 'below' {
    @return 'above';
  }

  @return 'below';
}

