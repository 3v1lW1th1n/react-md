@import '~@react-md/button/dist/scss/mixins';
@import '~@react-md/icon/dist/scss/mixins';
@import '~@react-md/progress/dist/scss/mixins';
@import '~@react-md/theme/dist/scss/mixins';
@import '~@react-md/utils/dist/scss/mixins';

.async-button {
  @include rmd-progress-theme-update-var(circular-size, rmd-icon-theme-var(size));

  // just to make the demos look a bit nicer
  margin: 1rem;
  // this makes it so the linear progress doesn't expand past the button bounds
  overflow: hidden;

  &--loading {
    @include rmd-button-theme-update-var(color, rmd-theme-var(text-disabled-on-background));
    @include rmd-button-theme-update-var(outline, rmd-theme-var(text-disabled-on-background));
  }

  &__overlay {
    // you'll really want this to be the `background` value or whatever the current
    // background is instead. You'll probably also want to add additional styles for
    // maintaining the "containted" styles since the contained button turns into
    // an "unstyled" button when disabled
    @include rmd-theme(background-color, surface);
    @include rmd-utils-full-screen(absolute);

    align-items: center;
    border-radius: inherit;
    box-shadow: inherit;
    display: flex;
    justify-content: center;
    z-index: 1;

    &--linear {
      top: auto;
    }
  }
}
