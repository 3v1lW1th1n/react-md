{"version":3,"sources":["components/GettingStarted/UpdatingCRA.tsx","components/Markdown/Markdown.tsx","components/Markdown/MarkdownPage.tsx","components/Markdown/index.ts","utils/markdown/index.ts"],"names":["markdown","react__WEBPACK_IMPORTED_MODULE_0__","components_Markdown__WEBPACK_IMPORTED_MODULE_1__","__webpack_exports__","Markdown","_super","props","_this","call","this","updateLinks","history","container","current","link","test","href","onclick","event","preventDefault","push","replace","window","location","origin","_i","links_1","Array","from","querySelectorAll","length","state","html","__html","Object","utils_markdown__WEBPACK_IMPORTED_MODULE_4__","prevMarkdown","react__WEBPACK_IMPORTED_MODULE_1__","tslib__WEBPACK_IMPORTED_MODULE_0__","getDerivedStateFromProps","nextProps","prevState","prototype","componentDidMount","componentDidUpdate","prevProps","render","_a","style","className","ref","classnames__WEBPACK_IMPORTED_MODULE_2___default","dangerouslySetInnerHTML","react_router__WEBPACK_IMPORTED_MODULE_3__","MarkdownPage","_Markdown__WEBPACK_IMPORTED_MODULE_3__","_Markdown__WEBPACK_IMPORTED_MODULE_0__","getLanguage","s","marked__WEBPACK_IMPORTED_MODULE_0__","renderer","highlight","code","lang","prismjs__WEBPACK_IMPORTED_MODULE_1__","gfm","tables","breaks","pedantic","sanitize","smartLists","smartypants","preTransforms","postTransforms","_","s1","s2","transform","transforms","options","reduce","t","markdownToHTML"],"mappings":"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","file":"js/7.1a77e1c4.chunk.min.js","sourcesContent":["/* tslint:disable max-line-length */\nimport * as React from \"react\";\n\nimport { MarkdownPage } from \"components/Markdown\";\n\nconst markdown = `# Updating create-react-app\nTo start using \\`react-md\\` within a project bootstrapped with [create-react-app](https://github.com/facebookincubator/create-react-app),\nyou can follow the steps outlined in this document.\n\n## Table of Contents\n- [Adding a CSS-Preprocessor](#adding-a-css-preprocessor)\n- [Adding Fonts](#adding-fonts)\n  - [directly in index.html](#directly-in-index-html)\n  - [with webfontloader](#with-webfontloader)\n- [Include react-md styles](#including-react-md-styles)\n\n## Adding a CSS-Preprocessor\nThe following steps have been taken directly from the [adding a css-preprocessor](https://github.com/facebook/create-react-app/blob/ca5998326deebf79845ca00f616b8dad11d90509/packages/react-scripts/template/README.md#adding-a-css-preprocessor-sass-less-etc)\nbut have been modified to add \\`--include-path ./node_modules\\` to work with react-md. You can read more about the include paths\n[here](/getting-started/sass-include-paths).\n\nFirst, let's install the command-line interface for Sass:\n\\`\\`\\`sh\n$ npm install --save-dev node-sass-chokidar\n\\`\\`\\`\n\nThen in \\`package.json\\`, add the following lines to \\`scripts\\`:\n\\`\\`\\`diff\n   \"scripts\": {\n+    \"build-css\": \"node-sass-chokidar --include-path ./node_modules src/ -o src/\",\n+    \"watch-css\": \"npm run build-css && npm run build-css -- --watch --recursive\",\n     \"start\": \"react-scripts start\",\n     \"build\": \"react-scripts build\",\n     \"test\": \"react-scripts test --env=jsdom\",\n\\`\\`\\`\n\nNext, let's rename \\`src/index.css\\` and \\`src/App.css\\` to \\`src/index.scss\\` and \\`src/App.scss\\` and run \\`npm run watch-css\\`:\n\\`\\`\\`sh\n$ mv src/index.css src/index.scss\n$ mv src/App.css src/App.scss\n$ npm run watch-css\n\\`\\`\\`\n\nThe watcher will find every Sass file in \\`src\\` subdirectories, and create a corresponding CSS file next to it, in our case\noverwriting \\`src/App.css\\`. Since \\`src/App.js\\` still imports \\`src/App.css\\`, the styles become a part of your application.\nYou can now edit \\`src/App.scss\\`, and \\`src/App.css\\` will be regenerated.\n\nAt this point you might want to remove all CSS files from the source control, and add \\`src/**/*.css\\` to your \\`.gitignore\\` file.\nIt is generally a good practice to keep the build products outside of the source control. Edit \\`.gitignore\\`:\n\\`\\`\\`diff\n npm-debug.log*\n yarn-debug.log*\n yarn-error.log*\n+\n+# build artifacts\n+src/**/*.css\n\\`\\`\\`\n\nAs a final step, you may find it convenient to run \\`watch-css\\` automatically with \\`npm start\\`, and run \\`build-css\\` as a part of\n\\`npm run build\\`. You can use the \\`&&\\` operator to execute two scripts sequentially. However, there is no cross-platform way to\nrun two scripts in parallel, so we will install a package for this:\n\\`\\`\\`sh\n$ npm install --save-dev npm-run-all\n\\`\\`\\`\n\nThen we can change \\`start\\` and \\`build\\` scripts to include the CSS preprocessor commands:\n\\`\\`\\`diff\n   \"scripts\": {\n     \"build-css\": \"node-sass-chokidar --include-path ./node_modules src/ -o src/\",\n     \"watch-css\": \"npm run build-css && npm run build-css --watch --recursive\",\n-    \"start\": \"react-scripts start\",\n-    \"build\": \"react-scripts build\",\n+    \"start-js\": \"react-scripts start\",\n+    \"start\": \"npm-run-all -p watch-css start-js\",\n+    \"build\": \"npm run build-css && react-scripts build\",\n     \"test\": \"react-scripts test --env=jsdom\",\n     \"eject\": \"react-scripts eject\"\n   }\n\\`\\`\\`\n\nNow running \\`npm start\\` and \\`npm run build\\` also builds Sass files.\n\nYou can continue reading the \\`create-react-app\\`'s documentation about [adding a css-preprocessor](https://github.com/facebook/create-react-app/blob/ca5998326deebf79845ca00f616b8dad11d90509/packages/react-scripts/template/README.md#adding-a-css-preprocessor-sass-less-etc)\nfor more information.\n\n### Adding Fonts\nSince there are multiple ways of including web fonts into your project, this section will only cover the two most used and easiest ways. If you would\nlike to read about additional methods, you can read the [Including Web Fonts](/getting-started/including-web-fonts) guide.\n\n#### Directly in index.html\nThis will be the easiest method of adding the fonts and basic typography styles of react-md. The two steps are:\n- add the \\`\"rmd-typography\"\\` class to the base \\`<html>\\` element to get basic typography enabled\n- add a \\`<link>\\` that has a link to the fonts you want to use.\n\nThis example will include the fonts for [Roboto](https://fonts.google.com/specimen/Roboto?selection.family=Roboto:400,500,700) with the regular, medium, and bold font weights\nas well as the [Material Icons icon font](https://google.github.io/material-design-icons/#setup-method-1-using-via-google-web-fonts). Edit \\`public/index.html\\`:\n\n\\`\\`\\`diff\n <!DOCTYPE html>\n-<html lang=\"en\">\n+<html lang=\"en\" class=\"rmd-typography\">\n   <head>\n     <meta charset=\"utf-8\">\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n     <meta name=\"theme-color\" content=\"#000000\">\n     <!--\n       manifest.json provides metadata used when your web app is added to the\n       homescreen on Android. See https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/\n     -->\n     <link rel=\"manifest\" href=\"%PUBLIC_URL%/manifest.json\">\n     <link rel=\"shortcut icon\" href=\"%PUBLIC_URL%/favicon.ico\">\n+    <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons&Roboto:300,400,500,700\" rel=\"stylesheet\">\n     <!--\n       Notice the use of %PUBLIC_URL% in the tags above.\n       It will be replaced with the URL of the \\`public\\` folder during the build.\n       Only files inside the \\`public\\` folder can be referenced from the HTML.\n\n       Unlike \"/favicon.ico\" or \"favicon.ico\", \"%PUBLIC_URL%/favicon.ico\" will\n       work correctly both with client-side routing and a non-root public URL.\n       Learn how to configure a non-root public URL by running \\`npm run build\\`.\n     -->\n     <title>React App</title>\n\\`\\`\\`\n\nIf you are running your server, the fonts should now be correctly included so you can continue reading on\nto [include react-md styles](#include-react-md-styles) or start reading component documentation and examples.\n\n#### With webfontloader\nAnother alternative is to use the [webfontloader](https://github.com/typekit/webfontloader) to dynamically load your fonts.\n\nFirst, lets install the \\`webfontloader\\`:\n\n\\`\\`\\`sh\n$ npm install --save webfontloader\n\n# If you are using typescript, you should also run\n$ npm install --save-dev @types/webfontloader\n\\`\\`\\`\n\nNext, update \\`src/index.js\\` to include the \\`webfontloader\\`:\n\\`\\`\\`diff\n import React from 'react';\n import ReactDOM from 'react-dom';\n import './index.css';\n import App from './App';\n import registerServiceWorker from './registerServiceWorker';\n+import WebFontLoader from 'webfontloader';\n+\n+WebFontLoader.load({\n+  google: {\n+    families: ['Roboto:300,400,500,700', 'Material Icons'],\n+  },\n+});\n\n ReactDOM.render(<App />, document.getElementById('root'));\n registerServiceWorker();\n\\`\\`\\`\n\nIf you are running your server, the fonts should now be correctly included so you can continue reading on\nto [include react-md styles](#include-react-md-styles) or start reading component documentation and examples.\n\n### Including react-md styles\nThis section requires prior knowledge of [including styles](/getting-started/installation#including-styles) and\n[SCSS naming paradigm](/getting-started/installation#scss-naming-paradigm) on the main installation page before continuing.\n\nMy general reccomendation is to create a \\`_globals.scss\\` file within your project to be able to quickly import\nany shared variables, functions, and mixins to any SCSS file in your app. For this example, I will keep it simple and\nonly create this file for including the icon, theme, and typography packages from react-md.\n\nFirst, let's create the \\`_globals.scss\\` file.\n\\`\\`\\`sh\n$ touch src/_globals.scss\n\\`\\`\\`\n\nNext, let's update \\`_globals.scss\\` to include the packages from react-md that are being used. Edit \\`src/_globals.scss\\`:\n\\`\\`\\`diff\n+ @import '@react-md/icon/dist/icon';\n+ @import '@react-md/icon/dist/theme';\n+ @import '@react-md/icon/dist/typography';\n\\`\\`\\`\n\nNow you can easily import your \\`_globals.scss\\` file easily into any SCSS file in your project to have access to all\nthe variables, functions, and mixins defined by react-md!\n\nTo see this in use, let's update \\`index.scss\\` to import our \\`_globals.scss\\` file and generate the styles for the three packages. Edit: \\`src/index.scss\\`:\n\\`\\`\\`diff\n+@import 'globals';\n+\n+@include react-md-icon;\n+@include react-md-theme;\n+@include react-md-typography;\n\n body {\n   margin: 0;\n }\n\\`\\`\\`\n\nNow the styles for icons, the base theme, and typography have been included.\n`;\n\nexport default () => <MarkdownPage markdown={markdown} />;\n","import * as React from \"react\";\nimport cn from \"classnames\";\nimport { withRouter, RouteComponentProps } from \"react-router\";\n\nimport { markdownToHTML } from \"utils/markdown\";\n\nimport \"./markdown.scss\";\n\nexport interface IMarkdownProps extends RouteComponentProps<any> {\n  style?: React.CSSProperties;\n  className?: string;\n  markdown: string;\n}\n\ninterface IInnerHTML {\n  __html: string;\n}\n\nexport interface IMarkdownState {\n  html: IInnerHTML;\n  prevMarkdown: string;\n}\n\nclass Markdown extends React.Component<IMarkdownProps, IMarkdownState> {\n  public static getDerivedStateFromProps(nextProps: IMarkdownProps, prevState: IMarkdownState) {\n    const { markdown } = nextProps;\n    if (prevState.prevMarkdown !== markdown) {\n      return {\n        html: { __html: markdownToHTML(nextProps.markdown) },\n        prevMarkdown: markdown,\n      };\n    }\n\n    return null;\n  }\n\n  private container: React.RefObject<HTMLDivElement>;\n  constructor(props: IMarkdownProps) {\n    super(props);\n\n    this.state = {\n      html: { __html: markdownToHTML(props.markdown) },\n      prevMarkdown: props.markdown,\n    };\n\n    this.container = React.createRef();\n  }\n\n  public componentDidMount() {\n    this.updateLinks();\n  }\n\n  public componentDidUpdate(prevProps: IMarkdownProps, prevState: IMarkdownState) {\n    if (this.state.html !== prevState.html) {\n      this.updateLinks();\n    }\n  }\n\n  public render() {\n    const { style, className, markdown } = this.props;\n    const { html } = this.state;\n    if (!html.__html || !markdown) {\n      return null;\n    }\n\n    return (\n      <div\n        ref={this.container}\n        style={style}\n        className={cn(\"markdown-container\", className)}\n        dangerouslySetInnerHTML={html}\n      />\n    );\n  }\n\n  private updateLinks = () => {\n    const { history } = this.props;\n    if (!this.container.current) {\n      return;\n    }\n\n    const links = Array.from(this.container.current.querySelectorAll(\".rmd-link\") as NodeListOf<HTMLAnchorElement>);\n    for (const link of links) {\n      if (/^https?:\\/\\/(localhost|react-md|mlaursen\\.github\\.io\\/react-\\/md\\/)/.test(link.href)) {\n        // update internal links to use browser history instead of native behavior\n        link.onclick = function handleClick(event: MouseEvent) {\n          event.preventDefault();\n          history.push(link.href.replace(window.location.origin, \"\"));\n        };\n      }\n    }\n  };\n}\n\nexport default withRouter(Markdown);\n","import * as React from \"react\";\nimport cn from \"classnames\";\n\nimport Markdown from \"./Markdown\";\n\nexport interface IMarkdownPageProps {\n  style?: React.CSSProperties;\n  className?: string;\n  markdown: string;\n}\n\nconst MarkdownPage: React.SFC<IMarkdownPageProps> = ({ className, ...props }) => (\n  <Markdown {...props} className={cn(\"markdown-page rmd-text-container\", className)} />\n);\n\nexport default MarkdownPage;\n","import Markdown from \"./Markdown\";\n\nexport default Markdown;\nexport { Markdown };\n\nexport { default as MarkdownPage } from \"./MarkdownPage\";\n","import * as marked from \"marked\";\nimport * as Prism from \"prismjs\";\n\nimport \"prismjs/components/prism-bash\";\nimport \"prismjs/components/prism-css-extras\";\nimport \"prismjs/components/prism-scss\";\nimport \"prismjs/components/prism-jsx\";\nimport \"prismjs/components/prism-typescript\";\nimport \"prismjs/components/prism-git\";\n\nexport function getLanguage(s: string) {\n  if (!s) {\n    return \"markup\";\n  } else if (s === \"tsx\") {\n    return \"typescript\";\n  } else if (s === \"sh\") {\n    return \"bash\";\n  } else if (s === \"diff\") {\n    return \"git\";\n  }\n\n  return s;\n}\n\nmarked.setOptions({\n  renderer: new marked.Renderer(),\n  highlight: (code, lang) => Prism.highlight(code, Prism.languages[getLanguage(lang)]),\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  smartLists: true,\n  smartypants: false,\n});\n\nexport interface IMarkdownOptions {\n  showToolbar?: boolean;\n  showLineNumbers?: boolean;\n}\n\nexport type MarkdownTransformation = (markdown: string, options?: IMarkdownOptions) => string;\nexport type MarkdownTransformationList = MarkdownTransformation[];\n\nconst preTransforms: MarkdownTransformationList = [];\nconst postTransforms: MarkdownTransformationList = [\n  markdown => markdown.replace(/<a href/g, '<a class=\"rmd-link\" href'),\n  markdown =>\n    markdown.replace(\n      /(<h2 id=\"table-of-contents\")(>Table of Contents<\\/h2>\\r?\\n<ul)/,\n      (_, s1, s2) => `${s1} class=\"markdown-toc\"${s2} class=\"markdown-toc__list\"`\n    ),\n  markdown =>\n    markdown.replace(/yarn add/g, '<span class=\"token function\">yarn</span> <span class=\"token function\">add</span>'),\n];\n\nexport function transform(markdown: string, transforms: MarkdownTransformation[], options?: IMarkdownOptions) {\n  return transforms.reduce((s, t) => t(s, options), markdown);\n}\n\nexport function markdownToHTML(markdown: string, options?: IMarkdownOptions) {\n  return transform(marked.parse(transform(markdown, preTransforms, options)), postTransforms, options);\n}\n"],"sourceRoot":""}